name: Anuset-FINAL CI

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  anuset-check:
    runs-on: ubuntu-latest

    steps:
      - name: ðŸ”„ Clonar repositorio
        uses: actions/checkout@v3

      - name: ðŸ“¦ Configurar Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.x'

      - name: ðŸ§¼ Asignar permisos a scripts
        run: |
          chmod +x scripts/*.sh || true
          find services/ -type f -name '*.sh' -exec chmod +x {} +

      - name: ðŸ§ª Verificar estructura y sintaxis
        run: make check-ci

      - name: ðŸ“‹ DiagnÃ³stico requirements
        run: make diag-req

      - name: ðŸ§ª Test completo IA
        run: make test-all
